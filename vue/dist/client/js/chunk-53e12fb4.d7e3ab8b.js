(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53e12fb4"],{"1f3e":function(e,t,r){},"6e1c":function(e,t,r){"use strict";r("1f3e")},c9c2:function(e,t,r){"use strict";r.r(t);var i=r("7a23"),n={class:"flex justify-center mt-32"},o={class:"grid gap-6 grid-cols-1 md:grid-cols-3 justify-center w-11/12 max-w-screen-lg"},s={class:"md:col-span-2"},a={ref:"newPostContainer",class:"relative bg-white dark:bg-dark-gray-800 rounded shadow p-4"},c={ref:"newPostEditor"},d={class:"flex flex-row justify-end mt-4"};function u(e,t,r,u,l,b){var h=Object(i["z"])("About");return Object(i["r"])(),Object(i["e"])("section",n,[Object(i["i"])("div",o,[Object(i["i"])("div",s,[Object(i["i"])("div",a,[Object(i["I"])(Object(i["i"])("input",{class:"border bg-transparent border-gray-400 dark:border-gray-700 w-full rounded focus:outline-none focus:border-gray-700 placeholder-gray-600 p-4 mb-4",type:"text",placeholder:"Title . . .","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.title=t})},null,512),[[i["E"],e.title]]),Object(i["i"])("div",c,null,512),Object(i["i"])("div",d,[Object(i["i"])("button",{class:"rounded bg-primary dark:bg-primary-dark hover:bg-primary py-2 px-4",onClick:t[2]||(t[2]=function(){return e.handlePost&&e.handlePost.apply(e,arguments)})}," POST ")])],512)]),Object(i["i"])("div",null,[Object(i["i"])(h)])])])}r("4c53"),r("96cf");var l=r("1da1"),b=r("84ba"),h=r("9339"),f=r.n(h),p=(r("a753"),Object(i["j"])({name:"CreatePost",components:{About:b["a"]},data:function(){return{title:"",body:"",linkUrl:null,linkMenuIsActive:!1,editor:{}}},computed:{sub:function(){return this.$store.direct.state.DataMod.subs[0]},isAuthenticated:function(){return this.$store.direct.state.AuthMod.isAuthenticated},isAuthLoading:function(){return this.$store.direct.state.AuthMod.isAuthLoading}},methods:{handlePost:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.sub){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$store.direct.dispatch.DataMod.createPost({title:e.title,body:e.body,subID:e.sub._id});case 4:case"end":return t.stop()}}),t)})))()},imageHandler:function(){var e=this.editor.getSelection(),t=prompt("please copy paste the image url here.");t&&e&&this.editor.insertEmbed(e.index,"image",t,"user")}},mounted:function(){var e=this;this.$store.direct.dispatch.DataMod.createPostInit(this.$route.params.sub),this.editor=new f.a(this.$refs.newPostEditor,{modules:{toolbar:{container:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{size:["small",!1,"large","huge"]}],[{color:["#ff0000","#00ff00","#0000ff"]}],["link","image"]],handlers:{image:this.imageHandler}}},bounds:this.$refs.newPostContainer,theme:"snow",readOnly:!1,placeholder:". . ."}),this.editor.on("text-change",(function(){e.editor&&(e.body=e.editor.root.innerHTML)}))},watch:{isAuthenticated:function(){this.isAuthenticated||this.isAuthLoading||this.$router.push("/s/".concat(this.$route.params.sub))}}}));r("6e1c");p.render=u;t["default"]=p}}]);
//# sourceMappingURL=chunk-53e12fb4.d7e3ab8b.js.map