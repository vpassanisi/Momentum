{"version":3,"sources":["webpack:///./src/components/ReadOnlyEditor.vue?a6f8","webpack:///./src/components/ReadOnlyEditor.vue","webpack:///./src/components/ReadOnlyEditor.vue?915b","webpack:///./src/views/Thread.vue","webpack:///./src/components/Comment.vue","webpack:///./src/components/NewCommentEditor.vue","webpack:///./src/components/NewCommentEditor.vue?8484","webpack:///./src/components/NewCommentEditor.vue?3d81","webpack:///./src/components/Comment.vue?d857","webpack:///./src/components/Comment.vue?cd81","webpack:///./src/views/Thread.vue?41bd","webpack:///./src/views/Thread.vue?f0af"],"names":["ref","class","value","props","type","String","required","data","editor","mounted","this","$refs","bounds","container","theme","readOnly","root","innerHTML","on","$emit","render","viewBox","xmlns","fill","d","style","post","sub","handleUp","points","handleDown","user","name","formatedTime","title","body","postId","_id","parentId","rootId","closeButton","sort","handleChangeSort","handleOrder","order","comments","com","key","comment","handleNextComments","moreComments","isOpen","close","isAuthenticated","isReplyOpen","closeReply","openReply","length","open","handleComment","openLoginModal","Boolean","computed","$store","direct","state","AuthMod","methods","commit","dispatch","DataMod","newComment","postID","parentID","rootID","newCommentEditor","newCommentContainer","placeholder","components","NewCommentEditor","ReadOnlyEditor","Object","isActive","undefined","PointMod","subs","posts","commentsMap","removeCommentPoint","incrementComment","decrementComment","getTimeSince","createdAt","watch","About","CommentC","Comment","lastValueCreatedAt","getters","lastValuePoints","targetIDs","removePostPoint","incrementPost","decrementPost","threadInit","subName","$route","params","id","sortBy","lastValue","lastCreatedAt","getPoints","loadMoreComments","beforeUnmount","clearDataState","clearPointState"],"mappings":"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","file":"js/chunk-2e0db554.b613bbb9.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ReadOnlyEditor.vue?vue&type=style&index=0&id=2c5c1cbb&lang=css\"","<template>\n  <div ref=\"container\" class=\"relative\">\n    <div ref=\"editor\" v-html=\"value\"></div>\n  </div>\n</template>\n\n<script>\nimport Quill from \"quill\";\nimport \"quill/dist/quill.core.css\";\nimport \"quill/dist/quill.snow.css\";\n\nexport default {\n  props: {\n    value: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      editor: null,\n    };\n  },\n  mounted() {\n    this.editor = new Quill(this.$refs.editor, {\n      bounds: this.$refs.container,\n      theme: \"bubble\",\n      readOnly: true,\n    });\n\n    this.editor.root.innerHTML = this.value;\n\n    this.editor.on(\"text-change\", () => {\n      this.$emit(\"input\", this.editor.root.innerHTML);\n    });\n  },\n};\n</script>\n\n<style>\n.dark .ql-toolbar .ql-stroke {\n  fill: none;\n  stroke: #fff;\n}\n\n.dark .ql-toolbar .ql-fill {\n  fill: #fff;\n  stroke: none;\n}\n\n.dark .ql-toolbar .ql-picker {\n  color: #fff;\n}\n\n.ql-tooltip {\n  height: 0 !important;\n}\n</style>\n","import { render } from \"./ReadOnlyEditor.vue?vue&type=template&id=2c5c1cbb\"\nimport script from \"./ReadOnlyEditor.vue?vue&type=script&lang=js\"\nexport * from \"./ReadOnlyEditor.vue?vue&type=script&lang=js\"\n\nimport \"./ReadOnlyEditor.vue?vue&type=style&index=0&id=2c5c1cbb&lang=css\"\nscript.render = render\n\nexport default script","<template>\n  <div v-if=\"post && sub\" class=\"flex justify-center mt-32\">\n    <div class=\"grid gap-6 grid-cols-1 md:grid-cols-3 w-11/12 max-w-screen-lg\">\n      <div\n        class=\"md:col-span-2 p-4 rounded bg-white dark:bg-dark-gray-800 shadow border border-gray-400 dark:border-gray-700 mb-12\"\n      >\n        <div class=\"flex flex-row\">\n          <div class=\"flex flex-col min-w-6\">\n            <button\n              class=\"w-full focus:outline-none py-2\"\n              :class=\"[\n                isActive === true\n                  ? 'text-green-600 dark:text-green-500'\n                  : 'text-gray-900 dark:text-gray-400',\n              ]\"\n              @click=\"handleUp\"\n            >\n              <svg\n                viewBox=\"100 14.653 300 168.661\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  fill=\"currentColor\"\n                  d=\"M 379.784 183.315 L 120.215 183.315 C 102.241 183.315 93.24 161.772 105.949 149.173 L 235.734 20.511 C 243.613 12.701 256.387 12.701 264.265 20.511 L 394.05 149.173 C 406.76 161.772 397.758 183.315 379.784 183.315 Z\"\n                  class\n                  style\n                />\n              </svg>\n            </button>\n            <div class=\"w-full text-center\">\n              {{\n                post.points > 999\n                  ? `${(post.points / 1000).toPrecision(2)}k`\n                  : post.points\n              }}\n            </div>\n            <button\n              class=\"w-full focus:outline-none py-2\"\n              :class=\"[\n                isActive === false\n                  ? 'text-red-600 dark:text-red-500'\n                  : 'text-gray-900 dark:text-gray-400',\n              ]\"\n              @click=\"handleDown\"\n            >\n              <svg\n                viewBox=\"100 14.112 300 168.65\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  fill=\"currentColor\"\n                  d=\"M 120.186 14.112 L 379.814 14.112 C 397.775 14.112 406.756 35.612 394.042 48.212 L 264.278 176.912 C 256.408 184.712 243.593 184.712 235.722 176.912 L 105.958 48.212 C 93.244 35.612 102.225 14.112 120.186 14.112 Z\"\n                  class\n                  style\n                />\n              </svg>\n            </button>\n          </div>\n          <div>\n            <div class=\"text-sm text-gray-700 dark:text-gray-500 pl-4\">\n              Posted by {{ post.user.name }} • {{ formatedTime }} ago\n            </div>\n            <div class=\"text-xl font-medium pl-4\">{{ post.title }}</div>\n            <div class=\"p-4\">\n              <read-only-editor :value=\"post.body\" />\n            </div>\n          </div>\n        </div>\n        <div class=\"flex\">\n          <NewCommentEditor\n            :postId=\"post._id\"\n            :parentId=\"post._id\"\n            :rootId=\"'000000000000000000000000'\"\n            :closeButton=\"false\"\n          />\n        </div>\n        <div class=\"border-b border-gray-400 dark:border-gray-700 my-4\" />\n        <div class=\"inline-block\">\n          <div\n            class=\"flex flex-row justify-start rounded border border-gray-400 dark:border-gray-700 px-4 py-2 bg-blue-50 dark:bg-dark-gray-700 shadow\"\n          >\n            Sort By:\n            <select\n              name=\"sort\"\n              class=\"focus:outline-none ml-2 bg-transparent border-b border-gray-700 dark:border-gray-300\"\n              v-model=\"sort\"\n              @change=\"handleChangeSort\"\n            >\n              <option value=\"points\" class=\"focus:outline-none\">Top</option>\n              <option value=\"createdAt\" class=\"focus:outline-none\">New</option>\n            </select>\n\n            <button class=\"flex ml-4 focus:outline-none\" @click=\"handleOrder\">\n              <i\n                class=\"material-icons transition-transform transform duration-300 ease-in-out\"\n                :class=\"[order === 1 ? 'rotate-180' : '']\"\n                >south</i\n              >\n            </button>\n          </div>\n        </div>\n        <comment-c\n          v-for=\"com in comments[post._id]\"\n          :key=\"com._id\"\n          :comment=\"com\"\n          :rootId=\"com._id\"\n        />\n        <div class=\"flex flex-row items-center justify-center mt-4\">\n          <button\n            v-show=\"moreComments\"\n            class=\"w-1/2 bg-blue-500 text-white shadow rounded p-2 focus:outline-none\"\n            @click=\"handleNextComments\"\n          >\n            Load More Comments\n          </button>\n        </div>\n      </div>\n      <About class=\"order-last\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport CommentC from \"../components/Comment.vue\";\nimport About from \"../components/About.vue\";\nimport ReadOnlyEditor from \"../components/ReadOnlyEditor.vue\";\nimport { Sub, Post, Comment } from \"../store/modules/types\";\nimport NewCommentEditor from \"../components/NewCommentEditor.vue\";\n\nexport default defineComponent({\n  name: \"Thread\",\n  components: {\n    About,\n    CommentC,\n    ReadOnlyEditor,\n    NewCommentEditor,\n  },\n  data() {\n    return {\n      sort: \"points\",\n      order: -1,\n      isActive: undefined as undefined | boolean,\n      formatedTime: null as null | string,\n    };\n  },\n  computed: {\n    lastValueCreatedAt(): number {\n      return this.$store.direct.getters.DataMod.lastValueCreatedAt;\n    },\n    lastValuePoints(): number {\n      return this.$store.direct.getters.DataMod.lastValuePoints;\n    },\n    post(): Post | undefined {\n      return this.$store.direct.state.DataMod.subs?.[0]?.posts?.[0];\n    },\n    moreComments(): boolean {\n      return this.$store.direct.state.DataMod.moreComments;\n    },\n    comments(): Record<string, Comment[]> {\n      return (\n        this.$store.direct.state.DataMod.subs?.[0]?.posts?.[0]?.commentsMap ??\n        {}\n      );\n    },\n    points(): Record<string, boolean> {\n      return this.$store.direct.state.PointMod.points;\n    },\n    targetIDs(): readonly string[] {\n      return this.$store.direct.getters.DataMod.targetIDs;\n    },\n    sub(): Sub | undefined {\n      return this.$store.direct.state.DataMod.subs?.[0];\n    },\n    isAuthenticated(): boolean {\n      return this.$store.direct.state.AuthMod.isAuthenticated;\n    },\n  },\n  methods: {\n    handleUp() {\n      if (!this.isAuthenticated || !this.post) return;\n\n      if (this.isActive === true) {\n        this.isActive = undefined;\n        this.$store.direct.dispatch.removePostPoint(this.post._id);\n      } else {\n        this.isActive = true;\n        this.$store.direct.dispatch.incrementPost(this.post._id);\n      }\n    },\n    handleDown() {\n      if (!this.isAuthenticated || !this.post) return;\n\n      if (this.isActive === false) {\n        this.isActive = undefined;\n        this.$store.direct.dispatch.removePostPoint(this.post._id);\n      } else {\n        this.isActive = false;\n        this.$store.direct.dispatch.decrementPost(this.post._id);\n      }\n    },\n    async handleChangeSort() {\n      await this.$store.direct.dispatch.DataMod.threadInit({\n        subName: this.$route.params.sub as string,\n        postID: this.$route.params.id as string,\n        sortBy: this.sort,\n        order: this.order,\n        lastValue: 0,\n        lastCreatedAt: 0,\n      });\n      if (this.isAuthenticated)\n        await this.$store.direct.dispatch.getPoints(this.targetIDs);\n    },\n    async handleOrder() {\n      this.order = this.order === 1 ? -1 : 1;\n\n      await this.$store.direct.dispatch.DataMod.threadInit({\n        subName: this.$route.params.sub as string,\n        postID: this.$route.params.id as string,\n        sortBy: this.sort,\n        order: this.order,\n        lastValue: 0,\n        lastCreatedAt: 0,\n      });\n\n      if (this.isAuthenticated)\n        await this.$store.direct.dispatch.getPoints(this.targetIDs);\n    },\n    async handleNextComments() {\n      await this.$store.direct.dispatch.DataMod.loadMoreComments({\n        subName: this.$route.params.sub as string,\n        postID: this.$route.params.id as string,\n        sortBy: this.sort,\n        order: this.order,\n        lastValue:\n          this.sort === \"points\"\n            ? this.lastValuePoints\n            : this.lastValueCreatedAt,\n        lastCreatedAt: this.$store.direct.getters.DataMod.lastValueCreatedAt,\n      });\n      if (this.isAuthenticated)\n        await this.$store.direct.dispatch.getPoints(this.targetIDs);\n    },\n  },\n  mounted: async function() {\n    await this.$store.direct.dispatch.DataMod.threadInit({\n      subName: this.$route.params.sub as string,\n      postID: this.$route.params.id as string,\n      sortBy: this.sort,\n      order: this.order,\n      lastValue: 0,\n      lastCreatedAt: 0,\n    });\n\n    if (this.isAuthenticated)\n      await this.$store.direct.dispatch.getPoints(this.targetIDs);\n\n    if (this.post) {\n      this.isActive = this.points[this.post._id];\n\n      this.formatedTime = await this.$store.direct.dispatch.getTimeSince(\n        this.post.createdAt\n      );\n    }\n  },\n  watch: {\n    points: function() {\n      if (this.post) {\n        this.isActive = this.points[this.post._id];\n      }\n    },\n  },\n  beforeUnmount() {\n    this.$store.direct.commit.DataMod.clearDataState();\n    this.$store.direct.commit.clearPointState();\n  },\n});\n</script>\n","<template>\n  <div v-if=\"isOpen\" class=\"flex flex-row py-4 w-full\">\n    <div class=\"flex flex-col w-6\">\n      <button\n        class=\"w-full focus:outline-none py-2\"\n        :class=\"[\n          isActive === true\n            ? 'text-green-600 dark:text-green-500'\n            : 'text-gray-900 dark:text-gray-400',\n        ]\"\n        @click=\"handleUp\"\n      >\n        <svg\n          viewBox=\"100 14.653 300 168.661\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            fill=\"currentColor\"\n            d=\"M 379.784 183.315 L 120.215 183.315 C 102.241 183.315 93.24 161.772 105.949 149.173 L 235.734 20.511 C 243.613 12.701 256.387 12.701 264.265 20.511 L 394.05 149.173 C 406.76 161.772 397.758 183.315 379.784 183.315 Z\"\n            class\n            style\n          />\n        </svg>\n      </button>\n      <button\n        class=\"w-full focus:outline-none py-2\"\n        :class=\"[\n          isActive === false\n            ? 'text-red-600 dark:text-red-500'\n            : 'text-gray-900 dark:text-gray-400',\n        ]\"\n        @click=\"handleDown\"\n      >\n        <svg viewBox=\"100 14.112 300 168.65\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path\n            fill=\"currentColor\"\n            d=\"M 120.186 14.112 L 379.814 14.112 C 397.775 14.112 406.756 35.612 394.042 48.212 L 264.278 176.912 C 256.408 184.712 243.593 184.712 235.722 176.912 L 105.958 48.212 C 93.244 35.612 102.225 14.112 120.186 14.112 Z\"\n            class\n            style\n          />\n        </svg>\n      </button>\n      <div\n        class=\"border-r-2 border-gray-300 dark:border-gray-700 hover:border-gray-700 w-1/2 h-full self-start cursor-pointer\"\n        @click=\"close\"\n      />\n    </div>\n    <div class=\"w-full\">\n      <span class=\"inline-block pl-4 text-sm text-gray-500\">\n        {{\n          `${comment.user.name} • ${comment.points} Points • ${formatedTime} ago`\n        }}\n      </span>\n      <read-only-editor :value=\"comment.body\" />\n      <div v-if=\"isAuthenticated\">\n        <div v-if=\"isReplyOpen\" class=\"flex flex-row\">\n          <div class=\"flex flex-col min-w-6\">\n            <div\n              class=\"border-r-2 border-gray-300 dark:border-gray-700 w-1/2 h-full self-start\"\n            />\n          </div>\n          <NewCommentEditor\n            :postId=\"comment.post\"\n            :parentId=\"comment._id\"\n            :rootId=\"rootId\"\n            :closeButton=\"true\"\n            @close=\"closeReply\"\n          />\n        </div>\n        <span v-else>\n          <button\n            class=\"flex items-center hover:bg-gray-200 rounded p-1 text-gray-500 text-sm focus:outline-none\"\n            @click=\"openReply\"\n          >\n            <i class=\"material-icons text-sm mr-2\">chat_bubble</i> Reply\n          </button>\n        </span>\n      </div>\n      <div v-if=\"comments[comment._id].length > 0\">\n        <Comment\n          v-for=\"com in comments[comment._id]\"\n          :key=\"com._id\"\n          :comment=\"com\"\n          :rootId=\"rootId\"\n        />\n      </div>\n    </div>\n  </div>\n  <div v-else class=\"flex flex-row items-center justify-start py-4\">\n    <button @click=\"open\" class=\"flex pr-3\">\n      <i class=\"material-icons text-blue-700 dark:text-blue-100 text-3xl\"\n        >add_circle</i\n      >\n    </button>\n    <span class=\"text-sm text-gray-500 flex items-center justify-center\">\n      {{\n        `${comment.user.name} • ${comment.points} Points • ${formatedTime} ago`\n      }}\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport type {Comment} from \"../store/modules/types\"\nimport NewCommentEditor from \"./NewCommentEditor.vue\";\nimport ReadOnlyEditor from \"./ReadOnlyEditor.vue\";\n\nexport default defineComponent({\n  name: \"Comment\",\n  components: {\n    NewCommentEditor,\n    ReadOnlyEditor\n  },\n  props: {\n    comment: {\n      type: Object as PropType<Comment>,\n      required: true,\n    },\n    rootId: String,\n  },\n  data() {\n    return {\n      isActive: undefined as undefined | boolean,\n      formatedTime: null as string | null,\n      isReplyOpen: false,\n      isOpen: true,\n    };\n  },\n  computed: {\n    isAuthenticated(): boolean {\n      return this.$store.direct.state.AuthMod.isAuthenticated\n    },\n    points(): Record<string, boolean> {\n      return this.$store.direct.state.PointMod.points\n    },\n    comments(): Record<string, Comment[]> {\n      return this.$store.direct.state.DataMod.subs[0]?.posts?.[0]?.commentsMap ?? {}\n    }\n  },\n  methods: {\n    close() {\n      this.isOpen = false;\n    },\n    open() {\n      this.isOpen = true;\n    },\n    openReply() {\n      this.isReplyOpen = true;\n    },\n    closeReply() {\n      this.isReplyOpen = false;\n    },\n    async handleUp() {\n      if (!this.isAuthenticated) return;\n      if (this.isActive === true) {\n        this.isActive = undefined;\n        await this.$store.direct.dispatch.removeCommentPoint(this.comment._id)\n        } else {\n        this.isActive = true;\n        await this.$store.direct.dispatch.incrementComment(this.comment._id)\n      }\n    },\n    async handleDown() {\n      if (!this.isAuthenticated) return;\n      if (this.isActive === false) {\n        this.isActive = undefined;\n        await this.$store.direct.dispatch.removeCommentPoint(this.comment._id)\n      } else {\n        this.isActive = false;\n        await this.$store.direct.dispatch.decrementComment(this.comment._id)\n      }\n    },\n  },\n  mounted: async function() {\n    this.formatedTime = await this.$store.direct.dispatch.getTimeSince(this.comment.createdAt)\n\n    this.isActive = this.points[this.comment._id];\n  },\n  watch: {\n    points: function() {\n      this.isActive = this.points[this.comment._id];\n    },\n  },\n});\n</script>\n","<template>\n  <div class=\"relative w-full\" v-if=\"isAuthenticated\">\n    <small class=\"dark:text-gray-400 text-gray-500\"\n      >comment as {{ name }}</small\n    >\n    <div ref=\"newCommentContainer\" class=\"mt-2\">\n      <div ref=\"newCommentEditor\" style=\"min-height: 10rem;\" />\n      <div\n        class=\"flex items-center justify-between border-l border-r border-b border-gray-400 p-1\"\n      >\n        <button\n          class=\"bg-blue-100 dark:bg-blue-400 px-4 py-1 rounded\"\n          @click=\"handleComment\"\n        >\n          comment\n        </button>\n        <button v-if=\"closeButton\" class=\"flex\" @click=\"close\">\n          <i class=\"material-icons\">clear</i>\n        </button>\n      </div>\n    </div>\n  </div>\n  <div\n    v-else\n    class=\"flex flex-wrap justify-between rounded border border-gray-400 dark:border-gray-700 p-4 bg-blue-50 dark:bg-dark-gray-700 shadow\"\n  >\n    <div\n      class=\"flex items-center justify-center font-medium text-center pb-4 md:pt-4 w-full md:w-auto\"\n    >\n      Log in or sign up to leave a comment\n    </div>\n    <div class=\"flex items-center justify-center w-full md:w-auto\">\n      <button\n        class=\"rounded shadow px-4 py-2 mx-2 hover:bg-blue-100 dark:hover:bg-blue-500 border border-blue-500 transition-button duration-300 ease-in-out focus:outline-none\"\n        @click=\"openLoginModal\"\n      >\n        LOG IN\n      </button>\n      <button\n        class=\"rounded shadow px-4 py-2 mx-2 bg-blue-100 hover:bg-blue-300 dark:bg-blue-700 dark:hover:bg-blue-400 border border-blue-500 transition-button duration-300 ease-in-out focus:outline-none\"\n      >\n        SIGN UP\n      </button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport Quill from \"quill\";\nimport \"quill/dist/quill.core.css\";\nimport \"quill/dist/quill.snow.css\";\n\nexport default defineComponent({\n  name: \"NewCommentEditor\",\n  props: {\n    postId: {\n      type: String,\n      required: true,\n    },\n    parentId: {\n      type: String,\n      required: true,\n    },\n    rootId: {\n      type: String,\n      required: true,\n    },\n    closeButton: Boolean,\n  },\n  data() {\n    return {\n      editor: null as null | Quill,\n      body: \"\",\n    };\n  },\n  computed: {\n    isAuthenticated(): boolean {\n      return this.$store.direct.state.AuthMod.isAuthenticated;\n    },\n    name(): string {\n      return this.$store.direct.state.AuthMod.name;\n    },\n  },\n  methods: {\n    openLoginModal() {\n      this.$store.direct.commit.openLoginModal();\n    },\n    async handleComment() {\n      await this.$store.direct.dispatch.DataMod.newComment({\n        postID: this.postId,\n        body: this.body,\n        parentID: this.parentId,\n        rootID: this.rootId,\n      });\n      this.$emit(\"close\");\n    },\n    close() {\n      this.$emit(\"close\");\n    },\n  },\n  mounted() {\n    if (this.$refs.newCommentEditor) {\n      this.editor = new Quill(this.$refs.newCommentEditor as string, {\n        bounds: this.$refs.newCommentContainer as string,\n        theme: \"snow\",\n        readOnly: false,\n        placeholder: \". . .\",\n      });\n\n      this.editor.on(\"text-change\", () => {\n        if (this.editor) {\n          this.body = this.editor.root.innerHTML;\n        }\n      });\n    }\n  },\n});\n</script>\n","\nimport { defineComponent } from \"vue\";\nimport Quill from \"quill\";\nimport \"quill/dist/quill.core.css\";\nimport \"quill/dist/quill.snow.css\";\n\nexport default defineComponent({\n  name: \"NewCommentEditor\",\n  props: {\n    postId: {\n      type: String,\n      required: true,\n    },\n    parentId: {\n      type: String,\n      required: true,\n    },\n    rootId: {\n      type: String,\n      required: true,\n    },\n    closeButton: Boolean,\n  },\n  data() {\n    return {\n      editor: null as null | Quill,\n      body: \"\",\n    };\n  },\n  computed: {\n    isAuthenticated(): boolean {\n      return this.$store.direct.state.AuthMod.isAuthenticated;\n    },\n    name(): string {\n      return this.$store.direct.state.AuthMod.name;\n    },\n  },\n  methods: {\n    openLoginModal() {\n      this.$store.direct.commit.openLoginModal();\n    },\n    async handleComment() {\n      await this.$store.direct.dispatch.DataMod.newComment({\n        postID: this.postId,\n        body: this.body,\n        parentID: this.parentId,\n        rootID: this.rootId,\n      });\n      this.$emit(\"close\");\n    },\n    close() {\n      this.$emit(\"close\");\n    },\n  },\n  mounted() {\n    if (this.$refs.newCommentEditor) {\n      this.editor = new Quill(this.$refs.newCommentEditor as string, {\n        bounds: this.$refs.newCommentContainer as string,\n        theme: \"snow\",\n        readOnly: false,\n        placeholder: \". . .\",\n      });\n\n      this.editor.on(\"text-change\", () => {\n        if (this.editor) {\n          this.body = this.editor.root.innerHTML;\n        }\n      });\n    }\n  },\n});\n","import { render } from \"./NewCommentEditor.vue?vue&type=template&id=25a82a8b\"\nimport script from \"./NewCommentEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./NewCommentEditor.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, PropType } from \"vue\";\nimport type {Comment} from \"../store/modules/types\"\nimport NewCommentEditor from \"./NewCommentEditor.vue\";\nimport ReadOnlyEditor from \"./ReadOnlyEditor.vue\";\n\nexport default defineComponent({\n  name: \"Comment\",\n  components: {\n    NewCommentEditor,\n    ReadOnlyEditor\n  },\n  props: {\n    comment: {\n      type: Object as PropType<Comment>,\n      required: true,\n    },\n    rootId: String,\n  },\n  data() {\n    return {\n      isActive: undefined as undefined | boolean,\n      formatedTime: null as string | null,\n      isReplyOpen: false,\n      isOpen: true,\n    };\n  },\n  computed: {\n    isAuthenticated(): boolean {\n      return this.$store.direct.state.AuthMod.isAuthenticated\n    },\n    points(): Record<string, boolean> {\n      return this.$store.direct.state.PointMod.points\n    },\n    comments(): Record<string, Comment[]> {\n      return this.$store.direct.state.DataMod.subs[0]?.posts?.[0]?.commentsMap ?? {}\n    }\n  },\n  methods: {\n    close() {\n      this.isOpen = false;\n    },\n    open() {\n      this.isOpen = true;\n    },\n    openReply() {\n      this.isReplyOpen = true;\n    },\n    closeReply() {\n      this.isReplyOpen = false;\n    },\n    async handleUp() {\n      if (!this.isAuthenticated) return;\n      if (this.isActive === true) {\n        this.isActive = undefined;\n        await this.$store.direct.dispatch.removeCommentPoint(this.comment._id)\n        } else {\n        this.isActive = true;\n        await this.$store.direct.dispatch.incrementComment(this.comment._id)\n      }\n    },\n    async handleDown() {\n      if (!this.isAuthenticated) return;\n      if (this.isActive === false) {\n        this.isActive = undefined;\n        await this.$store.direct.dispatch.removeCommentPoint(this.comment._id)\n      } else {\n        this.isActive = false;\n        await this.$store.direct.dispatch.decrementComment(this.comment._id)\n      }\n    },\n  },\n  mounted: async function() {\n    this.formatedTime = await this.$store.direct.dispatch.getTimeSince(this.comment.createdAt)\n\n    this.isActive = this.points[this.comment._id];\n  },\n  watch: {\n    points: function() {\n      this.isActive = this.points[this.comment._id];\n    },\n  },\n});\n","import { render } from \"./Comment.vue?vue&type=template&id=74c556df\"\nimport script from \"./Comment.vue?vue&type=script&lang=ts\"\nexport * from \"./Comment.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from \"vue\";\nimport CommentC from \"../components/Comment.vue\";\nimport About from \"../components/About.vue\";\nimport ReadOnlyEditor from \"../components/ReadOnlyEditor.vue\";\nimport { Sub, Post, Comment } from \"../store/modules/types\";\nimport NewCommentEditor from \"../components/NewCommentEditor.vue\";\n\nexport default defineComponent({\n  name: \"Thread\",\n  components: {\n    About,\n    CommentC,\n    ReadOnlyEditor,\n    NewCommentEditor,\n  },\n  data() {\n    return {\n      sort: \"points\",\n      order: -1,\n      isActive: undefined as undefined | boolean,\n      formatedTime: null as null | string,\n    };\n  },\n  computed: {\n    lastValueCreatedAt(): number {\n      return this.$store.direct.getters.DataMod.lastValueCreatedAt;\n    },\n    lastValuePoints(): number {\n      return this.$store.direct.getters.DataMod.lastValuePoints;\n    },\n    post(): Post | undefined {\n      return this.$store.direct.state.DataMod.subs?.[0]?.posts?.[0];\n    },\n    moreComments(): boolean {\n      return this.$store.direct.state.DataMod.moreComments;\n    },\n    comments(): Record<string, Comment[]> {\n      return (\n        this.$store.direct.state.DataMod.subs?.[0]?.posts?.[0]?.commentsMap ??\n        {}\n      );\n    },\n    points(): Record<string, boolean> {\n      return this.$store.direct.state.PointMod.points;\n    },\n    targetIDs(): readonly string[] {\n      return this.$store.direct.getters.DataMod.targetIDs;\n    },\n    sub(): Sub | undefined {\n      return this.$store.direct.state.DataMod.subs?.[0];\n    },\n    isAuthenticated(): boolean {\n      return this.$store.direct.state.AuthMod.isAuthenticated;\n    },\n  },\n  methods: {\n    handleUp() {\n      if (!this.isAuthenticated || !this.post) return;\n\n      if (this.isActive === true) {\n        this.isActive = undefined;\n        this.$store.direct.dispatch.removePostPoint(this.post._id);\n      } else {\n        this.isActive = true;\n        this.$store.direct.dispatch.incrementPost(this.post._id);\n      }\n    },\n    handleDown() {\n      if (!this.isAuthenticated || !this.post) return;\n\n      if (this.isActive === false) {\n        this.isActive = undefined;\n        this.$store.direct.dispatch.removePostPoint(this.post._id);\n      } else {\n        this.isActive = false;\n        this.$store.direct.dispatch.decrementPost(this.post._id);\n      }\n    },\n    async handleChangeSort() {\n      await this.$store.direct.dispatch.DataMod.threadInit({\n        subName: this.$route.params.sub as string,\n        postID: this.$route.params.id as string,\n        sortBy: this.sort,\n        order: this.order,\n        lastValue: 0,\n        lastCreatedAt: 0,\n      });\n      if (this.isAuthenticated)\n        await this.$store.direct.dispatch.getPoints(this.targetIDs);\n    },\n    async handleOrder() {\n      this.order = this.order === 1 ? -1 : 1;\n\n      await this.$store.direct.dispatch.DataMod.threadInit({\n        subName: this.$route.params.sub as string,\n        postID: this.$route.params.id as string,\n        sortBy: this.sort,\n        order: this.order,\n        lastValue: 0,\n        lastCreatedAt: 0,\n      });\n\n      if (this.isAuthenticated)\n        await this.$store.direct.dispatch.getPoints(this.targetIDs);\n    },\n    async handleNextComments() {\n      await this.$store.direct.dispatch.DataMod.loadMoreComments({\n        subName: this.$route.params.sub as string,\n        postID: this.$route.params.id as string,\n        sortBy: this.sort,\n        order: this.order,\n        lastValue:\n          this.sort === \"points\"\n            ? this.lastValuePoints\n            : this.lastValueCreatedAt,\n        lastCreatedAt: this.$store.direct.getters.DataMod.lastValueCreatedAt,\n      });\n      if (this.isAuthenticated)\n        await this.$store.direct.dispatch.getPoints(this.targetIDs);\n    },\n  },\n  mounted: async function() {\n    await this.$store.direct.dispatch.DataMod.threadInit({\n      subName: this.$route.params.sub as string,\n      postID: this.$route.params.id as string,\n      sortBy: this.sort,\n      order: this.order,\n      lastValue: 0,\n      lastCreatedAt: 0,\n    });\n\n    if (this.isAuthenticated)\n      await this.$store.direct.dispatch.getPoints(this.targetIDs);\n\n    if (this.post) {\n      this.isActive = this.points[this.post._id];\n\n      this.formatedTime = await this.$store.direct.dispatch.getTimeSince(\n        this.post.createdAt\n      );\n    }\n  },\n  watch: {\n    points: function() {\n      if (this.post) {\n        this.isActive = this.points[this.post._id];\n      }\n    },\n  },\n  beforeUnmount() {\n    this.$store.direct.commit.DataMod.clearDataState();\n    this.$store.direct.commit.clearPointState();\n  },\n});\n","import { render } from \"./Thread.vue?vue&type=template&id=e9c4a6c6\"\nimport script from \"./Thread.vue?vue&type=script&lang=ts\"\nexport * from \"./Thread.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}